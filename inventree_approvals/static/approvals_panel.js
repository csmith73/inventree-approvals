const Ot="0.7.0";var j=(e=>(e.api_server_info="",e.user_list="user/",e.user_set_password="user/:id/set-password/",e.user_me="user/me/",e.user_profile="user/profile/",e.user_roles="user/roles/",e.user_token="user/token/",e.user_tokens="user/tokens/",e.user_simple_login="email/generate/",e.user_reset="auth/v1/auth/password/request",e.user_reset_set="auth/v1/auth/password/reset",e.auth_pwd_change="auth/v1/account/password/change",e.auth_login="auth/v1/auth/login",e.auth_login_2fa="auth/v1/auth/2fa/authenticate",e.auth_session="auth/v1/auth/session",e.auth_signup="auth/v1/auth/signup",e.auth_authenticators="auth/v1/account/authenticators",e.auth_recovery="auth/v1/account/authenticators/recovery-codes",e.auth_mfa_reauthenticate="auth/v1/auth/2fa/reauthenticate",e.auth_totp="auth/v1/account/authenticators/totp",e.auth_trust="auth/v1/auth/2fa/trust",e.auth_reauthenticate="auth/v1/auth/reauthenticate",e.auth_email="auth/v1/account/email",e.auth_email_verify="auth/v1/auth/email/verify",e.auth_providers="auth/v1/account/providers",e.auth_provider_redirect="auth/v1/auth/provider/redirect",e.auth_config="auth/v1/config",e.currency_list="currency/exchange/",e.currency_refresh="currency/refresh/",e.all_units="units/all/",e.task_overview="background-task/",e.task_pending_list="background-task/pending/",e.task_scheduled_list="background-task/scheduled/",e.task_failed_list="background-task/failed/",e.api_search="search/",e.settings_global_list="settings/global/",e.settings_user_list="settings/user/",e.news="news/",e.global_status="generic/status/",e.custom_state_list="generic/status/custom/",e.version="version/",e.license="license/",e.group_list="user/group/",e.owner_list="user/owner/",e.ruleset_list="user/ruleset/",e.content_type_list="contenttype/",e.icons="icons/",e.selectionlist_list="selection/",e.selectionlist_detail="selection/:id/",e.barcode="barcode/",e.barcode_history="barcode/history/",e.barcode_link="barcode/link/",e.barcode_unlink="barcode/unlink/",e.barcode_generate="barcode/generate/",e.data_output="data-output/",e.import_session_list="importer/session/",e.import_session_accept_fields="importer/session/:id/accept_fields/",e.import_session_accept_rows="importer/session/:id/accept_rows/",e.import_session_column_mapping_list="importer/column-mapping/",e.import_session_row_list="importer/row/",e.notifications_list="notifications/",e.notifications_readall="notifications/readall/",e.build_order_list="build/",e.build_order_issue="build/:id/issue/",e.build_order_cancel="build/:id/cancel/",e.build_order_hold="build/:id/hold/",e.build_order_complete="build/:id/finish/",e.build_output_complete="build/:id/complete/",e.build_output_create="build/:id/create-output/",e.build_output_scrap="build/:id/scrap-outputs/",e.build_output_delete="build/:id/delete-outputs/",e.build_order_auto_allocate="build/:id/auto-allocate/",e.build_order_allocate="build/:id/allocate/",e.build_order_consume="build/:id/consume/",e.build_order_deallocate="build/:id/unallocate/",e.build_line_list="build/line/",e.build_item_list="build/item/",e.bom_list="bom/",e.bom_item_validate="bom/:id/validate/",e.bom_validate="part/:id/bom-validate/",e.bom_substitute_list="bom/substitute/",e.part_list="part/",e.part_parameter_list="part/parameter/",e.part_parameter_template_list="part/parameter/template/",e.part_thumbs_list="part/thumbs/",e.part_pricing="part/:id/pricing/",e.part_requirements="part/:id/requirements/",e.part_serial_numbers="part/:id/serial-numbers/",e.part_scheduling="part/:id/scheduling/",e.part_pricing_internal="part/internal-price/",e.part_pricing_sale="part/sale-price/",e.part_stocktake_list="part/stocktake/",e.category_list="part/category/",e.category_tree="part/category/tree/",e.category_parameter_list="part/category/parameters/",e.related_part_list="part/related/",e.part_test_template_list="part/test-template/",e.company_list="company/",e.contact_list="company/contact/",e.address_list="company/address/",e.supplier_part_list="company/part/",e.supplier_part_pricing_list="company/price-break/",e.manufacturer_part_list="company/part/manufacturer/",e.manufacturer_part_parameter_list="company/part/manufacturer/parameter/",e.stock_location_list="stock/location/",e.stock_location_type_list="stock/location-type/",e.stock_location_tree="stock/location/tree/",e.stock_item_list="stock/",e.stock_tracking_list="stock/track/",e.stock_test_result_list="stock/test/",e.stock_transfer="stock/transfer/",e.stock_remove="stock/remove/",e.stock_return="stock/return/",e.stock_add="stock/add/",e.stock_count="stock/count/",e.stock_change_status="stock/change_status/",e.stock_merge="stock/merge/",e.stock_assign="stock/assign/",e.stock_status="stock/status/",e.stock_install="stock/:id/install/",e.stock_uninstall="stock/:id/uninstall/",e.stock_serialize="stock/:id/serialize/",e.stock_serial_info="stock/:id/serial-numbers/",e.generate_batch_code="generate/batch-code/",e.generate_serial_number="generate/serial-number/",e.purchase_order_list="order/po/",e.purchase_order_issue="order/po/:id/issue/",e.purchase_order_hold="order/po/:id/hold/",e.purchase_order_cancel="order/po/:id/cancel/",e.purchase_order_complete="order/po/:id/complete/",e.purchase_order_line_list="order/po-line/",e.purchase_order_extra_line_list="order/po-extra-line/",e.purchase_order_receive="order/po/:id/receive/",e.sales_order_list="order/so/",e.sales_order_issue="order/so/:id/issue/",e.sales_order_hold="order/so/:id/hold/",e.sales_order_cancel="order/so/:id/cancel/",e.sales_order_ship="order/so/:id/ship/",e.sales_order_complete="order/so/:id/complete/",e.sales_order_allocate="order/so/:id/allocate/",e.sales_order_allocate_serials="order/so/:id/allocate-serials/",e.sales_order_line_list="order/so-line/",e.sales_order_extra_line_list="order/so-extra-line/",e.sales_order_allocation_list="order/so-allocation/",e.sales_order_shipment_list="order/so/shipment/",e.sales_order_shipment_complete="order/so/shipment/:id/ship/",e.return_order_list="order/ro/",e.return_order_issue="order/ro/:id/issue/",e.return_order_hold="order/ro/:id/hold/",e.return_order_cancel="order/ro/:id/cancel/",e.return_order_complete="order/ro/:id/complete/",e.return_order_receive="order/ro/:id/receive/",e.return_order_line_list="order/ro-line/",e.return_order_extra_line_list="order/ro-extra-line/",e.label_list="label/template/",e.label_print="label/print/",e.report_list="report/template/",e.report_print="report/print/",e.report_snippet="report/snippet/",e.report_asset="report/asset/",e.plugin_list="plugins/",e.plugin_setting_list="plugins/:plugin/settings/",e.plugin_user_setting_list="plugins/:plugin/user-settings/",e.plugin_registry_status="plugins/status/",e.plugin_install="plugins/install/",e.plugin_reload="plugins/reload/",e.plugin_activate="plugins/:key/activate/",e.plugin_uninstall="plugins/:key/uninstall/",e.plugin_admin="plugins/:key/admin/",e.plugin_ui_features_list="plugins/ui/features/:feature_type/",e.plugin_locate_item="locate/",e.machine_types_list="machine/types/",e.machine_driver_list="machine/drivers/",e.machine_registry_status="machine/status/",e.machine_list="machine/",e.machine_restart="machine/:machine/restart/",e.machine_setting_list="machine/:machine/settings/",e.machine_setting_detail="machine/:machine/settings/:config_type/",e.attachment_list="attachment/",e.error_report_list="error-report/",e.project_code_list="project-code/",e.custom_unit_list="units/",e.notes_image_upload="notes-image-upload/",e.email_list="admin/email/",e.email_test="admin/email/test/",e.config_list="admin/config/",e))(j||{});window.LinguiCore.i18n;window.LinguiCore.i18n;j.part_list,j.part_parameter_template_list,j.part_test_template_list,j.supplier_part_list,j.manufacturer_part_list,j.category_list,j.stock_item_list,j.stock_location_list,j.stock_location_type_list,j.stock_tracking_list,j.build_order_list,j.build_line_list,j.build_item_list,j.company_list,j.project_code_list,j.purchase_order_list,j.purchase_order_line_list,j.sales_order_list,j.sales_order_shipment_list,j.return_order_list,j.return_order_line_list,j.address_list,j.contact_list,j.owner_list,j.user_list,j.group_list,j.import_session_list,j.label_list,j.report_list,j.plugin_list,j.content_type_list,j.selectionlist_list,j.error_report_list;function Oe(e){var t;const r=((t=e?.version)==null?void 0:t.inventree)||"";Ot!=r&&console.info(`Plugin version mismatch! Expected version ${Ot}, got ${r}`)}var rt={exports:{}},ke={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dt;function qa(){if(Dt)return ke;Dt=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,o,n){var i=null;if(n!==void 0&&(i=""+n),o.key!==void 0&&(i=""+o.key),"key"in o){n={};for(var s in o)s!=="key"&&(n[s]=o[s])}else n=o;return o=n.ref,{$$typeof:e,type:a,key:i,ref:o!==void 0?o:null,props:n}}return ke.Fragment=t,ke.jsx=r,ke.jsxs=r,ke}var Vt;function Ga(){return Vt||(Vt=1,rt.exports=qa()),rt.exports}Ga();window.MantineCore.ActionIcon;window.MantineCore.Group;window.MantineCore.Tooltip;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ja={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=window.React.forwardRef,at=window.React.createElement,ee=(e,t,r,a)=>{const o=Qa(({color:n="currentColor",size:i=24,stroke:s=2,title:c,className:g,children:u,...p},d)=>at("svg",{ref:d,...Ja[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:s,stroke:n,...p},[c&&at("title",{key:"svg-title"},c),...a.map(([h,m])=>at(h,m)),...Array.isArray(u)?u:[u]]));return o.displayName=`${r}`,o};/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]];ee("outline","plus","Plus",Ua);window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.MantineCore.Progress;window.MantineCore.Stack;window.MantineCore.Text;window.React.useMemo;window.LinguiCore.i18n;window.MantineCore.Badge;window.MantineCore.Skeleton;window.React.useState;window.React.useRef;window.React.useCallback;window.React.useEffect;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]];ee("outline","search","Search",Xa);window.LinguiCore.i18n;window.MantineCore.CloseButton;window.MantineCore.TextInput;window.React.useEffect;window.React.useState;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]];ee("outline","arrow-right","ArrowRight",Za);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]];ee("outline","copy","Copy",Ya);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]];ee("outline","edit","Edit",Ka);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]];ee("outline","trash","Trash",Aa);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M10 10l4 4m0 -4l-4 4",key:"svg-1"}]];ee("outline","circle-x","CircleX",eo);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]];ee("outline","dots","Dots",to);window.LinguiCore.i18n;window.MantineCore.ActionIcon;window.MantineCore.Menu;window.MantineCore.Tooltip;window.React.useMemo;window.React.useState;/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ro={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=window.React.forwardRef,ot=window.React.createElement,me=(e,t,r,a)=>{const o=ao(({color:n="currentColor",size:i=24,stroke:s=2,title:c,className:g,children:u,...p},d)=>ot("svg",{ref:d,...ro[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${t}`,g].join(" "),strokeWidth:s,stroke:n,...p},[c&&ot("title",{key:"svg-title"},c),...a.map(([h,m])=>ot(h,m)),...Array.isArray(u)?u:[u]]));return o.displayName=`${r}`,o};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],kr=me("outline","alert-circle","AlertCircle",oo);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],We=me("outline","alert-triangle","AlertTriangle",no);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],Ft=me("outline","check","Check",lo);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=[["path",{d:"M9 11l3 3l8 -8",key:"svg-0"}],["path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9",key:"svg-1"}]],yr=me("outline","checkbox","Checkbox",so);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M9 17h6",key:"svg-2"}],["path",{d:"M9 13h6",key:"svg-3"}]],co=me("outline","file-description","FileDescription",io);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],mo=me("outline","x","X",uo),ho=window.MantineCore.Badge,D=window.MantineCore.Table,ye=window.MantineCore.Text,go=window.MantineCore.Stack;function po(e){switch(e){case"approved":return{color:"green",label:"âœ“ Approved"};case"rejected":return{color:"red",label:"âœ— Rejected"};case"pending":return{color:"yellow",label:"â³ Pending"};default:return{color:"gray",label:e}}}function Ht(e){if(!e)return"-";try{return new Date(e).toLocaleString()}catch{return e}}function wo({approvals:e}){if(e.length===0)return React.createElement(ye,{c:"dimmed",fs:"italic",size:"sm"},"No approvals yet");const t=e.map((r,a)=>{const{color:o,label:n}=po(r.status);return React.createElement(D.Tr,{key:a},React.createElement(D.Td,null,"Level ",r.level),React.createElement(D.Td,null,React.createElement(ho,{color:o,variant:"filled",size:"sm"},n)),React.createElement(D.Td,null,r.requested_by_name||"-"),React.createElement(D.Td,null,r.status==="pending"?r.requested_approver_name||"Any":r.actual_approver_name||"-"),React.createElement(D.Td,null,React.createElement(ye,{size:"xs",c:"dimmed"},Ht(r.requested_at))),React.createElement(D.Td,null,React.createElement(ye,{size:"xs",c:"dimmed"},r.status!=="pending"?Ht(r.decided_at):"-")),React.createElement(D.Td,null,React.createElement(ye,{size:"xs",style:{whiteSpace:"pre-wrap"}},r.notes||"-")))});return React.createElement(go,{gap:"xs"},React.createElement(ye,{fw:500,size:"sm"},"Approval History"),React.createElement(D,{striped:!0,highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0},React.createElement(D.Thead,null,React.createElement(D.Tr,null,React.createElement(D.Th,null,"Level"),React.createElement(D.Th,null,"Status"),React.createElement(D.Th,null,"Requested By"),React.createElement(D.Th,null,"Approver"),React.createElement(D.Th,null,"Requested"),React.createElement(D.Th,null,"Decided"),React.createElement(D.Th,null,"Notes"))),React.createElement(D.Tbody,null,t)))}const A=window.React.useState,Mr=window.React.useEffect,Tr=window.MantineCore.Modal,Be=window.MantineCore.Button,fo=window.MantineCore.Select,Sr=window.MantineCore.Textarea,jr=window.MantineCore.Stack,Pr=window.MantineCore.Group,$r=window.MantineCore.LoadingOverlay,Er=window.MantineCore.Alert;function _o({opened:e,onClose:t,onSuccess:r,orderId:a,pluginSlug:o,isHighValue:n,context:i}){const[s,c]=A(!1),[g,u]=A(null),[p,d]=A([]),[h,m]=A(null),[_,w]=A("");Mr(()=>{e&&(u(null),b())},[e]);async function b(){try{const f=n?"?is_high_value=true":"",y=(await i.api?.get(`plugin/${o}/users/${f}`))?.data;d(y?.results||[])}catch(f){console.error("Failed to load approvers:",f),d([])}}async function C(){c(!0),u(null);try{const T=(await i.api?.post(`plugin/${o}/po/${a}/request/`,{approver_id:h,notes:_}))?.data;T?.success?(w(""),m(null),r(),t()):u(T?.error||"Failed to request approval")}catch(f){u(f instanceof Error?f.message:"An error occurred")}finally{c(!1)}}const R=[...n?[]:[{value:"",label:"-- Any Available Approver --"}],...n?[]:[{value:"teams_channel",label:"ðŸ“¢ Teams Purchasing Channel"}],...p.map(f=>({value:String(f.id),label:`${f.full_name} (${f.username})`}))];return React.createElement(Tr,{opened:e,onClose:t,title:"Request Approval",size:"md"},React.createElement($r,{visible:s}),React.createElement(jr,{gap:"md"},g&&React.createElement(Er,{color:"red",icon:React.createElement(kr,{size:16})},g),React.createElement(fo,{label:"Select Approver (optional)",placeholder:"Select an approver",data:R,value:h,onChange:m,clearable:!0}),React.createElement(Sr,{label:"Notes (optional)",placeholder:"Add any notes for the approver",value:_,onChange:f=>w(f.currentTarget.value),rows:3}),React.createElement(Pr,{justify:"flex-end",gap:"sm"},React.createElement(Be,{variant:"default",onClick:t},"Cancel"),React.createElement(Be,{onClick:C,loading:s},"Submit Request"))))}function qt({opened:e,onClose:t,onSuccess:r,orderId:a,pluginSlug:o,isApprove:n,context:i}){const[s,c]=A(!1),[g,u]=A(null),[p,d]=A("");Mr(()=>{e&&(u(null),d(""))},[e]);async function h(){c(!0),u(null);try{const b=n?"approve":"reject",R=(await i.api?.post(`plugin/${o}/po/${a}/${b}/`,{notes:p}))?.data;R?.success?(d(""),r(),t()):u(R?.error||`Failed to ${n?"approve":"reject"}`)}catch(b){u(b instanceof Error?b.message:"An error occurred")}finally{c(!1)}}const m=n?"Approve Request":"Reject Request",_=n?"green":"red",w=n?"Approve":"Reject";return React.createElement(Tr,{opened:e,onClose:t,title:m,size:"md"},React.createElement($r,{visible:s}),React.createElement(jr,{gap:"md"},g&&React.createElement(Er,{color:"red",icon:React.createElement(kr,{size:16})},g),React.createElement(Sr,{label:"Notes (optional)",placeholder:`Add any notes for ${n?"approving":"rejecting"} this request`,value:p,onChange:b=>d(b.currentTarget.value),rows:3}),React.createElement(Pr,{justify:"flex-end",gap:"sm"},React.createElement(Be,{variant:"default",onClick:t},"Cancel"),React.createElement(Be,{color:_,onClick:h,loading:s},w))))}const ie=window.React.useState,bo=window.React.useEffect,Gt=window.React.useCallback,Jt=window.MantineCore.Stack,nt=window.MantineCore.Group,Co=window.MantineCore.Badge,lt=window.MantineCore.Button,st=window.MantineCore.Alert,vo=window.MantineCore.Loader,xo=window.MantineCore.Paper,Ee=window.MantineCore.Text;function Ro({context:e}){const t=e.context,r=t?.order_id||e.id,a=t?.plugin_slug||"approvals",[o,n]=ie(!0),[i,s]=ie(null),[c,g]=ie(null),[u,p]=ie(!1),[d,h]=ie(!1),[m,_]=ie(!1),w=Gt(async()=>{if(!r){s("No order ID provided"),n(!1);return}try{n(!0),s(null);const f=await e.api?.get(`plugin/${a}/po/${r}/status/`);g(f?.data)}catch(f){s(f instanceof Error?f.message:"Failed to load approval status")}finally{n(!1)}},[r,a,e.api]);bo(()=>{w()},[w]);const b=Gt(()=>{w()},[w]);if(o&&!c)return React.createElement(Jt,{align:"center",p:"md"},React.createElement(vo,{size:"md"}),React.createElement(Ee,{size:"sm",c:"dimmed"},"Loading approval status..."));if(i&&!c)return React.createElement(st,{color:"red",title:"Error",icon:React.createElement(We,{size:16})},i);if(!c)return React.createElement(st,{color:"yellow",title:"No Data"},"Unable to load approval status");let C,R;return c.is_fully_approved?(C="green",R="âœ“ Approved"):c.has_pending?(C="yellow",R=`${c.approved_count}/${c.total_required} (Pending)`):(C="blue",R=`${c.approved_count}/${c.total_required}`),React.createElement(Jt,{gap:"md",p:"md"},React.createElement(nt,{justify:"space-between",align:"center"},React.createElement(Ee,{fw:600,size:"lg"},"Approval Status"),React.createElement(Co,{color:C,variant:"filled",size:"lg"},R)),c.is_high_value&&React.createElement(st,{color:"orange",icon:React.createElement(We,{size:16}),title:"High Value Order"},"This order requires approval from a senior approver"),React.createElement(wo,{approvals:c.approvals}),React.createElement(nt,{gap:"sm"},c.can_request_approval&&React.createElement(lt,{leftSection:React.createElement(co,{size:16}),onClick:()=>p(!0)},"Request Approval"),c.user_can_approve&&React.createElement(React.Fragment,null,React.createElement(lt,{color:"green",leftSection:React.createElement(Ft,{size:16}),onClick:()=>h(!0)},"Approve"),React.createElement(lt,{color:"red",leftSection:React.createElement(mo,{size:16}),onClick:()=>_(!0)},"Reject")),c.is_fully_approved&&React.createElement(xo,{withBorder:!0,p:"sm",bg:"green.0"},React.createElement(nt,{gap:"xs"},React.createElement(Ft,{size:16,color:"green"}),React.createElement(Ee,{size:"sm",c:"green.8",fw:500},"Order can now be placed")))),!c.can_request_approval&&!c.user_can_approve&&!c.is_fully_approved&&React.createElement(Ee,{size:"sm",c:"dimmed"},c.can_request_reason||c.user_can_approve_reason||"Waiting for approval action"),React.createElement(_o,{opened:u,onClose:()=>p(!1),onSuccess:b,orderId:r,pluginSlug:a,isHighValue:c.is_high_value,context:e}),React.createElement(qt,{opened:d,onClose:()=>h(!1),onSuccess:b,orderId:r,pluginSlug:a,isApprove:!0,context:e}),React.createElement(qt,{opened:m,onClose:()=>_(!1),onSuccess:b,orderId:r,pluginSlug:a,isApprove:!1,context:e}))}const it=window.React.useState,ko=window.React.useEffect,yo=window.React.useCallback,ct=window.MantineCore.Stack,Mo=window.MantineCore.Group,To=window.MantineCore.Badge,So=window.MantineCore.Loader,ce=window.MantineCore.Text,jo=window.MantineCore.Anchor,V=window.MantineCore.Table,ut=window.MantineCore.Center,Po=window.MantineCore.Title;function $o({context:e}){const t=e.context?.plugin_slug||"approvals",[r,a]=it(!0),[o,n]=it(null),[i,s]=it([]),c=yo(async()=>{try{a(!0),n(null);const p=(await e.api?.get(`plugin/${t}/pending/`))?.data;s(p?.results||[])}catch(u){n(u instanceof Error?u.message:"Failed to load pending approvals")}finally{a(!1)}},[t,e.api]);if(ko(()=>{c()},[c]),r)return React.createElement(ut,{p:"md",h:"100%"},React.createElement(So,{size:"sm"}));if(o)return React.createElement(ut,{p:"md",h:"100%"},React.createElement(ct,{align:"center",gap:"xs"},React.createElement(We,{size:24,color:"red"}),React.createElement(ce,{size:"sm",c:"red"},o)));if(i.length===0)return React.createElement(ut,{p:"md",h:"100%"},React.createElement(ct,{align:"center",gap:"xs"},React.createElement(yr,{size:32,color:"gray"}),React.createElement(ce,{size:"sm",c:"dimmed"},"No pending approvals")));const g=u=>{if(!u)return"-";try{return new Date(u).toLocaleDateString()}catch{return u}};return React.createElement(ct,{gap:"xs",p:"xs",h:"100%",style:{overflow:"auto"}},React.createElement(Po,{order:4},"POs Needing Your Approval"),React.createElement(V,{striped:!0,highlightOnHover:!0,withTableBorder:!0},React.createElement(V.Thead,null,React.createElement(V.Tr,null,React.createElement(V.Th,null,"Reference"),React.createElement(V.Th,null,"Supplier"),React.createElement(V.Th,null,"Total"),React.createElement(V.Th,null,"Requested By"),React.createElement(V.Th,null,"Date"))),React.createElement(V.Tbody,null,i.map(u=>React.createElement(V.Tr,{key:u.order_id},React.createElement(V.Td,null,React.createElement(Mo,{gap:"xs"},React.createElement(jo,{href:u.url,size:"sm",fw:500},u.order_reference),u.is_high_value&&React.createElement(To,{size:"xs",color:"orange",variant:"light"},"High Value"))),React.createElement(V.Td,null,React.createElement(ce,{size:"sm"},u.supplier||"-")),React.createElement(V.Td,null,React.createElement(ce,{size:"sm"},u.order_total||"-")),React.createElement(V.Td,null,React.createElement(ce,{size:"sm"},u.requested_by||"-")),React.createElement(V.Td,null,React.createElement(ce,{size:"sm",c:"dimmed"},g(u.requested_at))))))))}const dt=window.React.useState,Eo=window.React.useEffect,zo=window.React.useCallback,mt=window.MantineCore.Stack,No=window.MantineCore.Group,Lo=window.MantineCore.Loader,ue=window.MantineCore.Text,Io=window.MantineCore.Anchor,F=window.MantineCore.Table,ht=window.MantineCore.Center,Wo=window.MantineCore.Title;function Bo({context:e}){const t=e.context?.plugin_slug||"approvals",[r,a]=dt(!0),[o,n]=dt(null),[i,s]=dt([]),c=zo(async()=>{try{a(!0),n(null);const p=(await e.api?.get(`plugin/${t}/pending-any-approver/`))?.data;s(p?.results||[])}catch(u){n(u instanceof Error?u.message:"Failed to load pending approvals")}finally{a(!1)}},[t,e.api]);if(Eo(()=>{c()},[c]),r)return React.createElement(ht,{p:"md",h:"100%"},React.createElement(Lo,{size:"sm"}));if(o)return React.createElement(ht,{p:"md",h:"100%"},React.createElement(mt,{align:"center",gap:"xs"},React.createElement(We,{size:24,color:"red"}),React.createElement(ue,{size:"sm",c:"red"},o)));if(i.length===0)return React.createElement(ht,{p:"md",h:"100%"},React.createElement(mt,{align:"center",gap:"xs"},React.createElement(yr,{size:32,color:"gray"}),React.createElement(ue,{size:"sm",c:"dimmed"},"No pending approvals")));const g=u=>{if(!u)return"-";try{return new Date(u).toLocaleDateString()}catch{return u}};return React.createElement(mt,{gap:"xs",p:"xs",h:"100%",style:{overflow:"auto"}},React.createElement(Wo,{order:4},"Pending Approvals Any Approver"),React.createElement(F,{striped:!0,highlightOnHover:!0,withTableBorder:!0},React.createElement(F.Thead,null,React.createElement(F.Tr,null,React.createElement(F.Th,null,"Reference"),React.createElement(F.Th,null,"Supplier"),React.createElement(F.Th,null,"Total"),React.createElement(F.Th,null,"Requested By"),React.createElement(F.Th,null,"Date"))),React.createElement(F.Tbody,null,i.map(u=>React.createElement(F.Tr,{key:u.order_id},React.createElement(F.Td,null,React.createElement(No,{gap:"xs"},React.createElement(Io,{href:u.url,size:"sm",fw:500},u.order_reference))),React.createElement(F.Td,null,React.createElement(ue,{size:"sm"},u.supplier||"-")),React.createElement(F.Td,null,React.createElement(ue,{size:"sm"},u.order_total||"-")),React.createElement(F.Td,null,React.createElement(ue,{size:"sm"},u.requested_by||"-")),React.createElement(F.Td,null,React.createElement(ue,{size:"sm",c:"dimmed"},g(u.requested_at))))))))}const Oo=window.React.useRef,Do=window.React.useEffect,Vo=["mousedown","touchstart"];function Fo(e,t,r){const a=Oo(null),o=Vo;return Do(()=>{const n=i=>{const{target:s}=i??{};if(Array.isArray(r)){const c=!document.body.contains(s)&&s?.tagName!=="HTML";r.every(u=>!!u&&!i.composedPath().includes(u))&&!c&&e(i)}else a.current&&!a.current.contains(s)&&e(i)};return o.forEach(i=>document.addEventListener(i,n)),()=>{o.forEach(i=>document.removeEventListener(i,n))}},[a,e,r]),a}const Ho=window.React.useState,qo=window.React.useEffect;function Go(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Jo(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Qo(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[a,o]=Ho(r?t:Jo(e));return qo(()=>{try{const n=window.matchMedia(e);return o(n.matches),Go(n,i=>o(i.matches))}catch{return}},[e]),a||!1}const Uo=window.React.useEffect;function Qt(e,t,r){Uo(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}const gt=window.React.useCallback,Xo=window.React.useState,Ut=window.React.useEffect;function Zo(e,t="use-local-storage"){try{return JSON.stringify(e)}catch{throw new Error(`@mantine/hooks ${t}: Failed to serialize the value`)}}function Yo(e){try{return e&&JSON.parse(e)}catch{return e}}function Ko(e){return{getItem:o=>{try{return window[e].getItem(o)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(o,n)=>{try{window[e].setItem(o,n)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:o=>{try{window[e].removeItem(o)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function Ao(e,t){const r="mantine-local-storage",{getItem:a,setItem:o,removeItem:n}=Ko(e);return function({key:s,defaultValue:c,getInitialValueInEffect:g=!0,sync:u=!0,deserialize:p=Yo,serialize:d=h=>Zo(h,t)}){const h=gt(C=>{let R;try{R=typeof window>"u"||!(e in window)||window[e]===null||!!C}catch{R=!0}if(R)return c;const f=a(s);return f!==null?p(f):c},[s,c]),[m,_]=Xo(h(g)),w=gt(C=>{C instanceof Function?_(R=>{const f=C(R);return o(s,d(f)),queueMicrotask(()=>{window.dispatchEvent(new CustomEvent(r,{detail:{key:s,value:C(R)}}))}),f}):(o(s,d(C)),window.dispatchEvent(new CustomEvent(r,{detail:{key:s,value:C}})),_(C))},[s]),b=gt(()=>{n(s),_(c),window.dispatchEvent(new CustomEvent(r,{detail:{key:s,value:c}}))},[s,c]);return Qt("storage",C=>{u&&C.storageArea===window[e]&&C.key===s&&_(p(C.newValue??void 0))}),Qt(r,C=>{u&&C.detail.key===s&&_(C.detail.value)}),Ut(()=>{c!==void 0&&m===void 0&&w(c)},[c,m,w]),Ut(()=>{const C=h();C!==void 0&&w(C)},[s]),[m===void 0?c:m,w,b]}}function St(e){return Ao("localStorage","use-local-storage")(e)}const en=window.React.useCallback;function Xt(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function tn(...e){const t=new Map;return r=>{if(e.forEach(a=>{const o=Xt(a,r);o&&t.set(a,o)}),t.size>0)return()=>{e.forEach(a=>{const o=t.get(a);o&&typeof o=="function"?o():Xt(a,null)}),t.clear()}}}function Zt(...e){return en(tn(...e),e)}const rn=window.React.useState,pt=window.React.useCallback;function an(e=!1,t={}){const[r,a]=rn(e),o=pt(()=>{a(s=>s||(t.onOpen?.(),!0))},[t.onOpen]),n=pt(()=>{a(s=>s&&(t.onClose?.(),!1))},[t.onClose]),i=pt(()=>{r?n():o()},[n,o,r]);return[r,{open:o,close:n,toggle:i}]}const on=window.React.useRef,Yt=window.React.useCallback,nn=window.React.useEffect;function Kt(e,t,r={autoInvoke:!1}){const a=on(null),o=Yt((...i)=>{a.current||(a.current=window.setTimeout(()=>{e(i),a.current=null},t))},[t]),n=Yt(()=>{a.current&&(window.clearTimeout(a.current),a.current=null)},[]);return nn(()=>(r.autoInvoke&&o(),n),[n,o]),{start:o,clear:n}}function zr(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=zr(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function I(){for(var e,t,r=0,a="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=zr(e))&&(a&&(a+=" "),a+=t);return a}var wt={exports:{}},Me={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At;function ln(){if(At)return Me;At=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,o,n){var i=null;if(n!==void 0&&(i=""+n),o.key!==void 0&&(i=""+o.key),"key"in o){n={};for(var s in o)s!=="key"&&(n[s]=o[s])}else n=o;return o=n.ref,{$$typeof:e,type:a,key:i,ref:o!==void 0?o:null,props:n}}return Me.Fragment=t,Me.jsx=r,Me.jsxs=r,Me}var er;function sn(){return er||(er=1,wt.exports=ln()),wt.exports}var l=sn();const cn=window.MantineCore.Box,un=window.MantineCore.Table,ft=window.React.useCallback,dn=window.React.useEffect,mn=window.React.useLayoutEffect,hn=window.React.useMemo,_t=window.React.useRef,gn=window.React.useState,tr=window.React.useState,pn=window.MantineCore.createSafeContext;var[wn,jt]=pn("useDataTableColumnsContext must be used within DataTableColumnProvider"),rr=e=>{let{children:t,columnsOrder:r,setColumnsOrder:a,columnsToggle:o,setColumnsToggle:n,resetColumnsOrder:i,resetColumnsToggle:s,setColumnWidth:c,setMultipleColumnWidths:g,resetColumnsWidth:u}=e,[p,d]=tr(""),[h,m]=tr("");return l.jsx(wn,{value:{sourceColumn:p,setSourceColumn:d,targetColumn:h,setTargetColumn:m,columnsToggle:o,setColumnsToggle:n,swapColumns:()=>{if(!r||!a||!p||!h)return;let _=r.indexOf(p),w=r.indexOf(h);if(_!==-1&&w!==-1){let b=r.splice(_,1)[0];r.splice(w,0,b),a([...r])}},resetColumnsOrder:i,resetColumnsToggle:s,setColumnWidth:c,setMultipleColumnWidths:g,resetColumnsWidth:u},children:t})};function fn(){return l.jsx("tr",{className:"mantine-datatable-empty-row",children:l.jsx("td",{})})}const _n=window.MantineCore.Center,bn=window.MantineCore.Text;function Cn(){return l.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74"}),l.jsx("path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6"}),l.jsx("path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4"}),l.jsx("path",{d:"M3 3l18 18"})]})}function vn({icon:e,text:t,active:r,children:a}){return l.jsx(_n,{className:"mantine-datatable-empty-state","data-active":r||void 0,children:a||l.jsxs(l.Fragment,{children:[e||l.jsx("div",{className:"mantine-datatable-empty-state-icon",children:l.jsx(Cn,{})}),l.jsx(bn,{component:"div",size:"sm",c:"dimmed",children:t})]})})}const xn=window.MantineCore.TableTfoot,Rn=window.MantineCore.TableTr,kn=window.MantineCore.TableTh;window.React.useCallback;window.React.useRef;window.React.useState;function yn({key:e,columns:t=[],getInitialValueInEffect:r=!0}){function a(p,d){let h=[];return p.forEach(m=>{d.find(_=>_.accessor===m)&&h.push(m)}),d.forEach(m=>{h.includes(m.accessor)||h.push(m.accessor)}),h}let o=t&&t.map(p=>p.accessor)||[],[n,i]=St({key:e?`${e}-columns-order`:"",defaultValue:e?o:void 0,getInitialValueInEffect:r});function s(p){e&&i(p)}let c=()=>{s(o)};if(!e)return{columnsOrder:n,setColumnsOrder:s,resetColumnsOrder:c};let g=a(n,t),u=JSON.stringify(n);return JSON.stringify(g)!==u&&s(g),{columnsOrder:g,setColumnsOrder:s,resetColumnsOrder:c}}const ne=window.React.useCallback,bt=window.React.useEffect,ze=window.React.useMemo,ar=window.React.useRef,or=window.React.useState;function Mn({key:e,columns:t=[],getInitialValueInEffect:r=!0,headerRef:a,onFixedLayoutChange:o}){let n=ar(!1),i=ar({}),[s,c]=or(!0),g=ze(()=>t.some(v=>v.resizable&&!v.hidden&&v.accessor!=="__selection__"),[t]),u=ze(()=>t.filter(v=>v.resizable&&!v.hidden&&v.accessor!=="__selection__"),[t]),p=ze(()=>u.some(v=>v.width===void 0||v.width===""||v.width==="initial"),[u]),d=ne(()=>t.filter(v=>v.accessor!=="__selection__").map(v=>({[v.accessor]:v.width??"auto"})),[t]),[h,m]=St({key:e?`${e}-columns-width`:"",defaultValue:e?d():void 0,getInitialValueInEffect:!1}),[_,w]=or(()=>d());bt(()=>{c(!1)},[]);let b=ne(()=>{if(!a?.current||s)return{};let v=a.current,S=Array.from(v.querySelectorAll("th[data-accessor]")),E={};return S.forEach(P=>{let $=P.getAttribute("data-accessor");if(!$||$==="__selection__")return;let k=u.find(x=>x.accessor===$);if(k&&(k.width===void 0||k.width===""||k.width==="initial")){let x=P.getBoundingClientRect();E[$]=Math.round(x.width)}}),E},[a,u,s]),C=ne(v=>{let S=v.filter(P=>P.accessor!=="__selection__"),E=_.map(P=>{let $=Object.keys(P)[0],k=S.find(x=>x.accessor===$);return k?{[$]:k.width}:P});w(E),e&&m(E)},[_,e,m]),R=ne(v=>{C(v)},[C]),f=ne(()=>{if(!(!a?.current||!o||s))if(p)o(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{let v=b();i.current={...i.current,...v};let S=t.filter(E=>E.accessor!=="__selection__").map(E=>{let P=E.accessor,$=h?.find(x=>Object.keys(x)[0]===P);if($&&$[P]!=="auto")return{[P]:$[P]};let k=v[P];return k?{[P]:`${k}px`}:{[P]:E.width??"auto"}});w(S),setTimeout(()=>{o(!0),n.current=!0},10)})});else{let v=t.filter(S=>S.accessor!=="__selection__").map(S=>({[S.accessor]:S.width??"auto"}));w(v),o(!0),n.current=!0}},[a,o,s,p,b,t,h]),T=f;bt(()=>{if(!g||!o||s){o?.(!1);return}n.current=!1;let v=setTimeout(()=>{f()},50);return()=>clearTimeout(v)},[g,o,s,f]),bt(()=>{s||!e||!r||h&&h.length>0&&w(h)},[s,e,r,h]);let y=ne(()=>{e&&m(d()),i.current={},n.current=!1,o&&(o(!1),setTimeout(()=>{f()},10))},[e,m,d,o,f]),M=ne((v,S)=>{C([{accessor:v,width:S}])},[C]),N=ze(()=>g?_.filter(v=>{let S=Object.keys(v)[0];return u.some(E=>E.accessor===S)}).every(v=>{let S=Object.values(v)[0];return S==="auto"||S==="initial"}):!1,[g,_,u]);return{columnsWidth:_,setColumnsWidth:C,setColumnWidth:M,setMultipleColumnWidths:R,resetColumnsWidth:y,hasResizableColumns:g,allResizableWidthsInitial:N,measureAndSetColumnWidths:T}}const Tn=window.React.useMemo;function Sn({key:e,columns:t=[],getInitialValueInEffect:r=!0}){function a(p,d){let h=[];return p.forEach(m=>{d.find(_=>_.accessor===m.accessor)&&h.push(m)}),d.forEach(m=>{h.find(_=>_.accessor===m.accessor)||h.push({accessor:m.accessor,defaultToggle:m.defaultToggle||!0,toggleable:m.toggleable,toggled:m.defaultToggle===void 0?!0:m.defaultToggle})}),h}let o=t&&t.map(p=>({accessor:p.accessor,defaultToggle:p.defaultToggle||!0,toggleable:p.toggleable,toggled:p.defaultToggle===void 0?!0:p.defaultToggle})),[n,i]=St({key:e?`${e}-columns-toggle`:"",defaultValue:e?o:void 0,getInitialValueInEffect:r});function s(p){e&&i(p)}let c=()=>{s(o)};if(!e)return{columnsToggle:n,setColumnsToggle:s,resetColumnsToggle:c};let g=a(n,t),u=JSON.stringify(n);return JSON.stringify(g)!==u&&s(g),{columnsToggle:g,setColumnsToggle:s,resetColumnsToggle:c}}var jn=({key:e,columns:t=[],getInitialValueInEffect:r=!0,headerRef:a,scrollViewportRef:o,onFixedLayoutChange:n})=>{let{columnsOrder:i,setColumnsOrder:s,resetColumnsOrder:c}=yn({key:e,columns:t,getInitialValueInEffect:r}),{columnsToggle:g,setColumnsToggle:u,resetColumnsToggle:p}=Sn({key:e,columns:t,getInitialValueInEffect:r}),{columnsWidth:d,setColumnsWidth:h,setColumnWidth:m,setMultipleColumnWidths:_,resetColumnsWidth:w,hasResizableColumns:b,allResizableWidthsInitial:C,measureAndSetColumnWidths:R}=Mn({key:e,columns:t,getInitialValueInEffect:r,headerRef:a,onFixedLayoutChange:n});return{effectiveColumns:Tn(()=>i?i.map(f=>t.find(T=>T.accessor===f)).map(f=>({...f,hidden:f?.hidden||!g.find(T=>T.accessor===f?.accessor)?.toggled})).map(f=>f?.accessor==="__selection__"?f:{...f,width:d.find(T=>T[f?.accessor])?.[f?.accessor]}):t,[t,i,g,d]),setColumnsOrder:s,columnsOrder:i,resetColumnsOrder:c,columnsToggle:g,setColumnsToggle:u,resetColumnsToggle:p,columnsWidth:d,setColumnsWidth:h,setColumnWidth:m,setMultipleColumnWidths:_,resetColumnsWidth:w,hasResizableColumns:b,allResizableWidthsInitial:C,measureAndSetColumnWidths:R}};const Pn=window.MantineCore.rem,$n=window.React.useCallback,Ct=window.React.useEffect,K=window.React.useRef,En=window.React.useEffect,zn=window.React.useLayoutEffect;var nr=typeof window<"u"?zn:En;const Nn=window.React.useRef;function lr(e){let t=Nn(e);return t.current=e,t}var sr="--mantine-datatable-header-height",ir="--mantine-datatable-footer-height",cr="--mantine-datatable-selection-column-width",ur="--mantine-datatable-last-row-border-bottom";function J(e,t,r){e?.style.setProperty(t,r)}function Mt(e){let t=e.borderBoxSize?.[0]||e.contentBoxSize?.[0];return t?{width:t.inlineSize,height:t.blockSize}:{width:e.contentRect.width,height:e.contentRect.height}}function vt(e,t,r){if(e){let a=new ResizeObserver(o=>{let n=o[0];n&&t(Mt(n))});return a.observe(e),()=>{a.disconnect(),r()}}}function Ln({scrollCallbacks:e,withRowBorders:t}){let r={root:K(null),table:K(null),scrollViewport:K(null),header:K(null),footer:K(null),selectionColumnHeader:K(null)},{root:a,table:o,scrollViewport:n,header:i,footer:s,selectionColumnHeader:c}=r,g=lr({withRowBorders:t}),u=lr(e),p=K(()=>{}),d=K(()=>{}),h=$n(m=>{u.current.onScroll?.(m),p.current()},[]);return Ct(()=>vt(i.current,m=>{J(a.current,sr,`${m.height}px`)},()=>J(a.current,sr,"0")),[i.current]),Ct(()=>vt(s.current,m=>{J(a.current,ir,`${m.height}px`)},()=>J(a.current,ir,"0")),[s.current]),Ct(()=>vt(c.current,m=>{J(a.current,cr,`${m.width}px`)},()=>J(a.current,cr,"0")),[c.current]),nr(()=>{if(typeof window===void 0)return;let m={top:!0,bottom:!0,left:!0,right:!0},_={width:0,height:0},w={width:0,height:0};function b(y,M){let N=m[y];return m[y]=M,J(a.current,`--mantine-datatable-${y}-shadow-opacity`,M?"0":"1"),N}function C(){let y=_.height-w.height,M=y<0;J(a.current,"--mantine-datatable-footer-position",M?"relative":"sticky"),J(a.current,"--mantine-datatable-footer-bottom",M?`${y}px`:"0")}function R(){g.current.withRowBorders&&_.height<w.height?J(a.current,ur,`${Pn("1px")} solid var(--mantine-datatable-border-color)`):J(a.current,ur,"unset")}d.current=R;function f(){let y=u.current,M=n.current,N=M?.scrollTop??0,v=M?.scrollLeft??0,S=N===0,E=_.height-N-w.height<1,P=b("top",S),$=b("bottom",E);S&&S!==P&&y.onScrollToTop?.(),E&&E!==$&&y.onScrollToBottom?.();let k=M?getComputedStyle(M).direction==="rtl":!1,x=(M?.scrollWidth??0)-w.width,L,W;if(k){let Q=Math.abs(v);W=Q<1,L=x-Q<1}else L=v<1,W=_.width-v-w.width<1;let q=b("left",L),B=b("right",W);L&&L!==q&&y.onScrollToLeft?.(),W&&W!==B&&y.onScrollToRight?.()}p.current=f;let T=new ResizeObserver(y=>{for(let M of y)switch(M.target.tagName){case"TABLE":{_=Mt(M);break}case"DIV":{w=Mt(M);break}}f(),C(),R()});return T.observe(o.current),T.observe(n.current),()=>{T.disconnect()}},[]),nr(()=>{d.current()},[t]),{refs:r,onScroll:h}}const In=window.React.useEffect,Wn=window.React.useState;function Bn(e){let[t,r]=Wn(null),a=e?.join(":")||"";return In(()=>{r(null)},[a]),{lastSelectionChangeIndex:t,setLastSelectionChangeIndex:r}}const On=window.React.useEffect,Dn=window.React.useRef,Vn=window.React.useState;function Fn(e,t){let r=()=>{t(e.map(o=>o.matches))},a=e.map(o=>{try{return o.addEventListener("change",r),()=>o.removeEventListener("change",r)}catch{return o.addListener(r),()=>o.removeListener(r)}});return()=>{a.forEach(o=>o())}}function Hn(e,t){return t||(typeof window<"u"&&"matchMedia"in window?e.map(r=>window.matchMedia(r).matches):e.map(()=>!1))}function qn(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){let[a,o]=Vn(r?t:Hn(e,t)),n=Dn(null);return On(()=>{if("matchMedia"in window)return n.current=e.map(i=>window.matchMedia(i)),o(n.current.map(i=>i.matches)),Fn(n.current,i=>{o(i)})},[e]),a}const Gn=window.MantineCore.useMantineTheme,dr=window.React.useMemo;function Jn(e){let t=Gn(),r=dr(()=>e.map(o=>(typeof o=="function"?o(t):o)??""),[e,t]),a=dr(()=>e.map(()=>!0),[e]);return qn(r,a)}const Qn=window.MantineCore.useMantineTheme;function De(e){let t=Qn(),r=typeof e=="function"?e(t):e;return Qo(r||"",!0)}const Un=window.React.useState;function Pt(e){let t=e.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${t.charAt(0).toUpperCase()}${t.slice(1)}`}function Xn(e,t,r){return e.filter(a=>!t.map(r).includes(r(a)))}function xt(e,t){return e.filter((r,a,o)=>a===o.findIndex(n=>t(r)===t(n)))}function Nr(e,t){return t?t.match(/([^[.\]])+/g).reduce((r,a)=>r&&r[a],e):void 0}function H(e,t){return typeof t=="string"?Nr(e,t):t(e)}function Lr(e){return!e||e.length===0?0:Math.max(...e.map(t=>t.groups&&t.groups.length>0?1+Lr(t.groups):1))}function $t(e){let t=[];for(let r of e)r.columns&&r.columns.length>0?t.push(...r.columns.filter(a=>a!=null)):r.groups&&r.groups.length>0&&t.push(...$t(r.groups));return t.filter(r=>r!=null)}function Tt(e,t){return e.columns&&e.columns.length>0?e.columns.filter((r,a)=>r.hidden?!1:t?t[a]!==!1:!0).length:e.groups&&e.groups.length>0?e.groups.reduce((r,a)=>r+Tt(a,t),0):0}function Ir(e,t,r=0){if(r===t)return[...e];let a=[];for(let o of e)o.groups&&o.groups.length>0&&a.push(...Ir(o.groups,t,r+1));return a}function Zn(e,t,r){return r?!e||t:!1}function Yn({rowExpansion:e,records:t,idAccessor:r}){let a=[];if(e&&t){let{trigger:s,allowMultiple:c,initiallyExpanded:g}=e;t&&s==="always"?a=t.map(u=>H(u,r)):g&&(a=t.filter((u,p)=>g({record:u,index:p})).map(u=>H(u,r)),c||(a=[a[0]]))}let o,n,i=Un(a);if(e){let{expandable:s,trigger:c,allowMultiple:g,collapseProps:u,content:p}=e;e.expanded?{recordIds:o,onRecordIdsChange:n}=e.expanded:[o,n]=i;let d=h=>n?.(o.filter(m=>m!==H(h,r)));return{expandOnClick:c!=="always"&&c!=="never",isRowExpanded:h=>c==="always"?!0:o.includes(H(h,r)),isExpandable:({record:h,index:m})=>s?s({record:h,index:m}):!0,expandRow:h=>{let m=H(h,r);n?.(g?[...o,m]:[m])},collapseRow:d,collapseProps:u,content:({record:h,index:m})=>()=>p({record:h,index:m,collapse:()=>d(h)})}}}const Kn=window.React.useEffect,mr=window.React.useState;function An(e,t){let[r,a]=mr(e),[o,n]=mr(e),i=Kt(()=>a(!0),0),s=Kt(()=>n(!1),t||200);return Kn(()=>{e?(s.clear(),n(!0),i.start()):(i.clear(),a(!1),s.start())},[i,s,e]),{expanded:r,visible:o}}var Et="mantine-datatable-nowrap",zt="mantine-datatable-ellipsis",de="mantine-datatable-pointer-cursor",Wr="mantine-datatable-context-menu-cursor",el="mantine-datatable-text-selection-disabled",Ve="mantine-datatable-text-align-left",Fe="mantine-datatable-text-align-center",He="mantine-datatable-text-align-right";function tl({className:e,style:t,visibleMediaQuery:r,title:a,noWrap:o,ellipsis:n,textAlign:i,width:s}){return De(r)?l.jsx(kn,{className:I({[Et]:o||n,[zt]:n,[Ve]:i==="left",[Fe]:i==="center",[He]:i==="right"},e),style:[{width:s,minWidth:s,maxWidth:s},t],children:a}):null}const rl=window.MantineCore.TableTh;function al({shadowVisible:e}){return l.jsx(rl,{className:"mantine-datatable-footer-selector-placeholder-cell","data-shadow-visible":e||void 0})}function ol({className:e,style:t,columns:r,defaultColumnProps:a,selectionVisible:o,selectorCellShadowVisible:n,ref:i}){return l.jsx(xn,{ref:i,className:I("mantine-datatable-footer",e),style:t,children:l.jsxs(Rn,{children:[o&&l.jsx(al,{shadowVisible:n}),r.map(({hidden:s,...c})=>{if(s)return null;let{accessor:g,visibleMediaQuery:u,textAlign:p,width:d,footer:h,footerClassName:m,footerStyle:_,noWrap:w,ellipsis:b}={...a,...c};return l.jsx(tl,{className:m,style:_,visibleMediaQuery:u,textAlign:p,width:d,title:h,noWrap:w,ellipsis:b},g)})]})})}const nl=window.MantineCore.Checkbox,ll=window.MantineCore.Group,sl=window.MantineCore.Popover,il=window.MantineCore.PopoverDropdown,cl=window.MantineCore.PopoverTarget,ul=window.MantineCore.Stack,dl=window.MantineCore.TableThead,hr=window.MantineCore.TableTr,ml=window.React.useState,hl=window.MantineCore.TableTh,Ne=window.React.useMemo;function gl({group:{id:e,columns:t,groups:r,title:a,textAlign:o,className:n,style:i},maxDepth:s,currentDepth:c,previousGroups:g,isLastGroup:u,withColumnBorders:p=!1,totalTableColumns:d}){let h=Ne(()=>t&&t.length>0?t:r&&r.length>0?$t([{id:e,columns:t,groups:r}]):[],[t,r,e]),m=Ne(()=>h.map(({visibleMediaQuery:T})=>T),[h]),_=Jn(m),w=Ne(()=>Tt({columns:t,groups:r},_),[e,t,r,_]),b=Ne(()=>g.reduce((T,y)=>T+Tt(y,_),0),[g,_]),C=r&&r.length>0?1:s-c,R=b+w<d,f=Zn(u,R,p);return w>0?l.jsx(hl,{colSpan:w,rowSpan:C>1?C:void 0,className:I("mantine-datatable-column-group-header-cell",{[Ve]:o==="left",[Fe]:o==="center",[He]:o==="right","mantine-datatable-column-group-header-cell--needs-border":f},n),style:i,children:a??Pt(e)}):null}const gr=window.MantineCore.ActionIcon,pl=window.MantineCore.Box,Le=window.MantineCore.Center,wl=window.MantineCore.Flex,fl=window.MantineCore.Group,_l=window.MantineCore.TableTh,bl=window.React.useRef,Cl=window.React.useState,vl=window.MantineCore.ActionIcon,xl=window.MantineCore.Popover,Rl=window.MantineCore.PopoverDropdown,kl=window.MantineCore.PopoverTarget;function yl(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"})]})}function Ml(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z",strokeWidth:"0",fill:"currentColor"})]})}function Tl({children:e,isActive:t,filterPopoverProps:r,filterPopoverDisableClickOutside:a}){let[o,{close:n,toggle:i}]=an(!1),s=t?Ml:yl,c=Fo(n);return a&&(c=void 0),l.jsxs(xl,{withArrow:!0,shadow:"md",opened:o,onClose:n,trapFocus:!0,...r,children:[l.jsx(kl,{children:l.jsx(vl,{className:"mantine-datatable-header-cell-filter-action-icon","data-active":t||void 0,size:"sm",variant:"default",onClick:g=>{g.preventDefault(),i()},onKeyDown:g=>g.stopPropagation(),children:l.jsx(s,{})})}),l.jsx(Rl,{ref:c,onClick:g=>g.stopPropagation(),onKeyDown:g=>g.stopPropagation(),children:typeof e=="function"?e({close:n}):e})]})}const Sl=window.MantineCore.useDirection,pr=window.React.useCallback,wr=window.React.useRef,jl=window.React.useState;var Pl=e=>{let{accessor:t,columnRef:r}=e,[a,o]=jl(!1),n=wr(0),i=wr({current:0,next:0}),{dir:s}=Sl(),c=s==="rtl",{setMultipleColumnWidths:g}=jt(),u=pr(d=>{if(d.preventDefault(),d.stopPropagation(),!r.current)return;let h=r.current,m=h.nextElementSibling;for(;m;){let T=m.getAttribute("data-accessor");if(T&&T!=="__selection__")break;m=m.nextElementSibling}if(!m)return;let _=m.getAttribute("data-accessor");if(!_)return;let w=_==="__selection__";o(!0),n.current=d.clientX;let b=h.offsetWidth,C=m.offsetWidth;i.current={current:b,next:C};let R=T=>{if(!r.current)return;let y=r.current,M=y.nextElementSibling;if(!M)return;let N=T.clientX-n.current;c&&(N=-N);let v=50,S=i.current.current-v,E=i.current.next-v,P=Math.max(-S,Math.min(N,E)),$=i.current.current+P,k=i.current.next-P;y.style.width=`${$}px`,M.style.width=`${k}px`,y.style.minWidth=`${$}px`,y.style.maxWidth=`${$}px`,M.style.minWidth=`${k}px`,M.style.maxWidth=`${k}px`},f=()=>{if(!r.current)return;let T=r.current,y=T.nextElementSibling;o(!1),document.body.style.cursor="initial",document.body.style.userSelect="initial";let M=parseInt(T.style.width)||T.offsetWidth,N=y?parseInt(y.style.width)||y.offsetWidth:0,v=[{accessor:t,width:`${M}px`}];if(y&&!w){let S=y.getAttribute("data-accessor");S&&v.push({accessor:S,width:`${N}px`})}setTimeout(()=>{g(v)},0),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",f)};document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",R),document.addEventListener("mouseup",f)},[t,r,c,g]),p=pr(()=>{if(!r.current)return;let d=r.current,h=d.nextElementSibling;d.style.width="",d.style.minWidth="",d.style.maxWidth="";let m=[{accessor:t,width:"auto"}];if(h){h.style.width="",h.style.minWidth="",h.style.maxWidth="";let _=h.getAttribute("data-accessor");_&&_!=="__selection__"&&m.push({accessor:_,width:"auto"})}setTimeout(()=>{g(m)},0)},[t,r,g]);return l.jsx("div",{className:"mantine-datatable-header-resizable-handle",style:{cursor:a?"col-resize":void 0},onMouseDown:u,onDoubleClick:p,onClick:d=>d.stopPropagation(),title:"Drag to resize column, double-click to reset"})};function $l(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M12 5l0 14"}),l.jsx("path",{d:"M16 9l-4 -4"}),l.jsx("path",{d:"M8 9l4 -4"})]})}function El(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M8 7l4 -4l4 4"}),l.jsx("path",{d:"M8 17l4 4l4 -4"}),l.jsx("path",{d:"M12 3l0 18"})]})}function zl(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),l.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}function Nl(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M18 6l-12 12"}),l.jsx("path",{d:"M6 6l12 12"})]})}function Ll({className:e,style:t,accessor:r,visibleMediaQuery:a,title:o,sortable:n,draggable:i,toggleable:s,resizable:c,sortIcons:g,textAlign:u,width:p,sortStatus:d,onSortStatusChange:h,filter:m,filterPopoverProps:_,filterPopoverDisableClickOutside:w,filtering:b,sortKey:C}){let{setSourceColumn:R,setTargetColumn:f,swapColumns:T,setColumnsToggle:y}=jt(),[M,N]=Cl(!1),v=bl(null);if(!De(a))return null;let S=o??Pt(r),E=typeof S=="string"?S:void 0,P=n&&h?B=>{B?.defaultPrevented||h({sortKey:C,columnAccessor:r,direction:d?.columnAccessor===r?d.direction==="asc"?"desc":"asc":d?.direction??"asc"})}:void 0,$=B=>{B.stopPropagation(),R(r),N(!1)},k=B=>{B.preventDefault(),f(r),N(!0)},x=()=>{f(r),N(!1),T()},L=()=>{N(!0)},W=()=>{N(!1)},q=B=>{B.stopPropagation(),y(Q=>Q.map(X=>X.accessor===r?{...X,toggled:!1}:X))};return l.jsxs(_l,{"data-accessor":r,className:I({"mantine-datatable-header-cell-sortable":n,"mantine-datatable-header-cell-toggleable":s,"mantine-datatable-header-cell-resizable":c},e),style:[{width:p,...c?{}:{minWidth:p,maxWidth:p}},t],role:n?"button":void 0,tabIndex:n?0:void 0,onClick:P,onKeyDown:B=>B.key==="Enter"&&P?.(),ref:v,children:[l.jsxs(fl,{className:"mantine-datatable-header-cell-sortable-group",justify:"space-between",wrap:"nowrap",children:[l.jsxs(wl,{align:"center",w:"100%",className:I({"mantine-datatable-header-cell-draggable":i,"mantine-datatable-header-cell-drag-over":M}),draggable:i,onDragStart:i?$:void 0,onDragEnter:i?L:void 0,onDragOver:i?k:void 0,onDrop:i?x:void 0,onDragLeave:i?W:void 0,children:[i?l.jsx(Le,{role:"img","aria-label":"Drag column",children:l.jsx(gr,{className:"mantine-datatable-header-cell-draggable-action-icon",variant:"subtle",size:"xs",onClick:B=>{B.stopPropagation()},children:l.jsx(zl,{})})}):null,l.jsx(pl,{className:I("mantine-datatable-header-cell-sortable-text",{[Ve]:u==="left",[Fe]:u==="center",[He]:u==="right"},Et,zt),title:E,children:S})]}),s?l.jsx(Le,{className:"mantine-datatable-header-cell-toggleable-icon",role:"img","aria-label":"Toggle column",children:l.jsx(gr,{size:"xs",variant:"light",onClick:q,children:l.jsx(Nl,{})})}):null,n||d?.columnAccessor===r?l.jsx(l.Fragment,{children:d?.columnAccessor===r?l.jsx(Le,{className:I("mantine-datatable-header-cell-sortable-icon",{"mantine-datatable-header-cell-sortable-icon-reversed":d.direction==="desc"}),role:"img","aria-label":`Sorted ${d.direction==="desc"?"descending":"ascending"}`,children:g?.sorted||l.jsx($l,{})}):l.jsx(Le,{className:"mantine-datatable-header-cell-sortable-unsorted-icon",role:"img","aria-label":"Not sorted",children:g?.unsorted||l.jsx(El,{})})}):null,m?l.jsx(Tl,{filterPopoverProps:_,isActive:!!b,filterPopoverDisableClickOutside:w,children:m}):null]}),c&&r!=="__selection__"?l.jsx(Pl,{accessor:r,columnRef:v}):null]})}const Il=window.MantineCore.Checkbox,Wl=window.MantineCore.TableTh;function Bl({className:e,style:t,trigger:r,shadowVisible:a,checked:o,indeterminate:n,checkboxProps:i,onChange:s,rowSpan:c,ref:g}){let u=!i.disabled;return l.jsx(Wl,{ref:g,className:I("mantine-datatable-header-selector-cell",{[de]:r==="cell"&&u},e),style:t,rowSpan:c,"data-shadow-visible":a||void 0,"data-accessor":"__selection__",onClick:r==="cell"&&u?s:void 0,children:l.jsx(Il,{classNames:u?{input:de}:void 0,checked:o,indeterminate:n,onChange:s,...i,disabled:!(s||i.onChange)||i.disabled})})}function Ol({selectionColumnHeaderRef:e,className:t,style:r,sortStatus:a,sortIcons:o,onSortStatusChange:n,columns:i,defaultColumnProps:s,groups:c,selectionTrigger:g,selectionVisible:u,selectionChecked:p,selectionIndeterminate:d,onSelectionChange:h,selectionCheckboxProps:m,selectorCellShadowVisible:_,selectionColumnClassName:w,selectionColumnStyle:b,withColumnBorders:C=!1,ref:R}){let f=c?Lr(c):0,T=f>0?f+1:1,y=u?l.jsx(Bl,{ref:e,className:w,style:b,trigger:g,shadowVisible:_,checked:p,indeterminate:d,checkboxProps:m,onChange:h,rowSpan:c?T:void 0}):null,{columnsToggle:M,setColumnsToggle:N}=jt(),[v,S]=ml(!1),E=i.some(k=>k.toggleable),P=E?Object.fromEntries(i.map(({accessor:k,title:x})=>[k,x??Pt(String(k))])):void 0,$=l.jsxs(dl,{className:I("mantine-datatable-header",t),style:r,ref:R,onContextMenu:E?k=>{k.preventDefault(),S(x=>!x)}:void 0,children:[c&&Array.from({length:f},(k,x)=>{let L=Ir(c,x);return l.jsxs(hr,{children:[x===0&&y,L.map((W,q)=>l.jsx(gl,{group:W,maxDepth:f,currentDepth:x,previousGroups:L.slice(0,q),isLastGroup:q===L.length-1,withColumnBorders:C,totalTableColumns:i.length},W.id))]},`group-depth-${x}`)}),l.jsxs(hr,{children:[!c&&y,i.map(({hidden:k,...x},L)=>{if(k)return null;let{accessor:W,visibleMediaQuery:q,textAlign:B,width:Q,title:X,sortable:he,draggable:ge,toggleable:pe,resizable:we,titleClassName:te,titleStyle:fe,filter:_e,filterPopoverProps:Z,filterPopoverDisableClickOutside:qe,filtering:Ge,sortKey:Je}={...s,...x};return l.jsx(Ll,{accessor:W,className:te,style:fe,visibleMediaQuery:q,textAlign:B,width:Q,title:X,sortable:he,draggable:ge,toggleable:pe,resizable:we&&L<i.length-1,sortStatus:a,sortIcons:o,sortKey:Je,onSortStatusChange:n,filter:_e,filterPopoverProps:Z,filterPopoverDisableClickOutside:qe,filtering:Ge},W)})]})]});return E?l.jsxs(sl,{position:"bottom",withArrow:!0,shadow:"md",opened:v,onChange:S,children:[l.jsx(cl,{children:$}),l.jsx(il,{children:l.jsx(ul,{children:M.filter(k=>k.toggleable).map(k=>l.jsx(ll,{children:l.jsx(nl,{classNames:{label:"mantine-datatable-header-column-toggle-checkbox-label"},size:"xs",label:P[k.accessor],checked:k.toggled,onChange:x=>{N(M.map(L=>L.accessor===k.accessor?{...L,toggled:x.currentTarget.checked}:L))}})},k.accessor))})})]}):$}const Dl=window.MantineCore.Center,Vl=window.MantineCore.Loader;function Fl({fetching:e,customContent:t,backgroundBlur:r,size:a,type:o,color:n}){return l.jsx(Dl,{className:I("mantine-datatable-loader",{"mantine-datatable-loader-fetching":e}),style:[{backdropFilter:r?`blur(${r}px)`:void 0}],children:e&&(t||l.jsx(Vl,{size:a,type:o,color:n}))})}const Hl=window.MantineCore.Box,ql=window.MantineCore.Pagination,Gl=window.MantineCore.Text,Jl=window.MantineCore.rem,Ql=window.MantineCore.Button,Ul=window.MantineCore.Group,Xl=window.MantineCore.Menu,Zl=window.MantineCore.MenuDropdown,Yl=window.MantineCore.MenuItem,Kl=window.MantineCore.MenuTarget,fr=window.MantineCore.Text,Te=window.MantineCore.rem,Al=window.MantineCore.parseThemeColor;function O(e,t,r){return e?Al({color:typeof e=="object"?e[r]:e,theme:t}).value:void 0}function es({theme:e,c:t,backgroundColor:r,borderColor:a,rowBorderColor:o,stripedColor:n,highlightOnHoverColor:i}){return{"--mantine-datatable-color-light":O(t,e,"light"),"--mantine-datatable-color-dark":O(t,e,"dark"),"--mantine-datatable-background-color-light":O(r,e,"light"),"--mantine-datatable-background-color-dark":O(r,e,"dark"),"--mantine-datatable-border-color-light":O(a,e,"light"),"--mantine-datatable-border-color-dark":O(a,e,"dark"),"--mantine-datatable-row-border-color-light":O(o,e,"light"),"--mantine-datatable-row-border-color-dark":O(o,e,"dark"),"--mantine-datatable-striped-color-light":O(n,e,"light"),"--mantine-datatable-striped-color-dark":O(n,e,"dark"),"--mantine-datatable-highlight-on-hover-color-light":O(i,e,"light"),"--mantine-datatable-highlight-on-hover-color-dark":O(i,e,"dark")}}function Br({theme:e,paginationActiveTextColor:t,paginationActiveBackgroundColor:r}){return{"--mantine-datatable-pagination-active-text-color-light":O(t,e,"light"),"--mantine-datatable-pagination-active-text-color-dark":O(t,e,"dark"),"--mantine-datatable-pagination-active-background-color-light":O(r,e,"light"),"--mantine-datatable-pagination-active-background-color-dark":O(r,e,"dark")}}function ts({theme:e,color:t,backgroundColor:r}){return{"--mantine-datatable-row-color-light":O(t,e,"light"),"--mantine-datatable-row-color-dark":O(t,e,"dark"),"--mantine-datatable-row-background-color-light":O(r,e,"light"),"--mantine-datatable-row-background-color-dark":O(r,e,"dark")}}function rs(){return l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),l.jsx("path",{d:"M8 9l4 -4l4 4"}),l.jsx("path",{d:"M16 15l-4 4l-4 -4"})]})}var _r={xs:Te(22),sm:Te(26),md:Te(32),lg:Te(38),xl:Te(44)};function as({size:e,label:t,values:r,value:a,activeTextColor:o,activeBackgroundColor:n,onChange:i}){return l.jsxs(Ul,{gap:"xs",children:[l.jsx(fr,{component:"div",size:e,children:t}),l.jsxs(Xl,{withinPortal:!0,withArrow:!0,offset:2,classNames:{arrow:"mantine-datatable-page-size-selector-menu-arrow"},children:[l.jsx(Kl,{children:l.jsx(Ql,{size:e,variant:"default",classNames:{section:"mantine-datatable-page-size-selector-button-icon"},rightSection:l.jsx(rs,{}),style:[{fontWeight:"normal"},s=>({height:_r[e],paddingLeft:s.spacing[e],paddingRight:s.spacing[e]})],children:a})}),l.jsx(Zl,{children:r.map(s=>{let c=s===a;return l.jsx(Yl,{className:I({"mantine-datatable-page-size-selector-active":c}),style:[{height:_r[e]},c&&(o||n)?g=>Br({theme:g,paginationActiveTextColor:o,paginationActiveBackgroundColor:n}):void 0],disabled:c,onClick:()=>i(s),children:l.jsx(fr,{component:"div",size:e,children:s})},s)})})]})]})}function os({className:e,style:t,fetching:r,page:a,onPageChange:o,paginationWithEdges:n,paginationWithControls:i,paginationActiveTextColor:s,paginationActiveBackgroundColor:c,paginationSize:g,loadingText:u,noRecordsText:p,paginationText:d,totalRecords:h,recordsPerPage:m,onRecordsPerPageChange:_,recordsPerPageLabel:w,recordsPerPageOptions:b,recordsLength:C,horizontalSpacing:R,paginationWrapBreakpoint:f,getPaginationControlProps:T,getPaginationItemProps:y,renderPagination:M}){let N;if(h){let x=(a-1)*m+1,L=x+(C||0)-1;N=d({from:x,to:L,totalRecords:h})}else N=r?u:p;let v=h&&m?Math.max(1,Math.ceil(h/m)):1,S=h?(a-1)*(m??0)+1:void 0,E=h?(S??1)+(C??0)-1:void 0,P=!De(({breakpoints:x})=>`(min-width: ${typeof f=="number"?`${Jl(f)}rem`:x[f]||f})`),$={Text:x=>l.jsx(Gl,{component:"div",className:"mantine-datatable-pagination-text",size:g,...x,children:N}),PageSizeSelector:x=>b?l.jsx(as,{activeTextColor:s,activeBackgroundColor:c,size:g,label:w,values:b,value:m,onChange:_,...x}):l.jsx(l.Fragment,{}),Pagination:x=>l.jsx(ql,{classNames:{root:I("mantine-datatable-pagination-pages",{"mantine-datatable-pagination-pages-fetching":r||!C}),control:"mantine-datatable-pagination-pages-control"},style:s||c?L=>Br({theme:L,paginationActiveTextColor:s,paginationActiveBackgroundColor:c}):void 0,withEdges:n,withControls:i,value:a,onChange:o,size:g,total:v,getControlProps:T,getItemProps:y,...x})},k={state:{paginationSize:g,page:a,totalPages:v,totalRecords:h,recordsPerPage:m,recordsLength:C,fetching:r,from:S,to:E,isWrapped:P},actions:{setPage:x=>o?.(x),setRecordsPerPage:_?x=>_(x):void 0},Controls:$};return l.jsx(Hl,{px:R??"xs",py:"xs",className:I("mantine-datatable-pagination",e),style:[{flexDirection:P?"column":"row"},t],children:typeof M=="function"?M(k):l.jsxs(l.Fragment,{children:[l.jsx($.Text,{}),l.jsx($.PageSizeSelector,{}),l.jsx($.Pagination,{})]})})}const ns=window.MantineCore.TableTr,ls=window.MantineCore.TableTd;function ss({className:e,style:t,visibleMediaQuery:r,record:a,index:o,onClick:n,onDoubleClick:i,onContextMenu:s,noWrap:c,ellipsis:g,textAlign:u,width:p,accessor:d,render:h,defaultRender:m,customCellAttributes:_}){return De(r)?l.jsx(ls,{className:I({[Et]:c||g,[zt]:g,[de]:n||i,[Wr]:s,[Ve]:u==="left",[Fe]:u==="center",[He]:u==="right"},e),style:[{width:p,minWidth:p,maxWidth:p},t],onClick:n,onDoubleClick:i,onContextMenu:s,..._?.(a,o),children:h?h(a,o):m?m(a,o,d):Nr(a,d)}):null}const is=window.MantineCore.Collapse,cs=window.MantineCore.TableTd,br=window.MantineCore.TableTr;function us({open:e,colSpan:t,content:r,collapseProps:a}){let{expanded:o,visible:n}=An(e,a?.transitionDuration);return n?l.jsxs(l.Fragment,{children:[l.jsx(br,{}),l.jsx(br,{children:l.jsx(cs,{className:"mantine-datatable-row-expansion-cell",colSpan:t,children:l.jsx(is,{in:o,...a,children:l.jsx("div",{className:"mantine-datatable-row-expansion-cell-content",children:r()})})})})]}):null}const ds=window.MantineCore.Checkbox,ms=window.MantineCore.TableTd;function hs({className:e,style:t,record:r,index:a,trigger:o,onChange:n,withRightShadow:i,checkboxProps:s,getCheckboxProps:c,...g}){let u={...s,...c(r,a)},p=!g.disabled&&!u.disabled,d=h=>{h.stopPropagation(),o==="cell"&&p&&n?.(h)};return l.jsx(ms,{className:I("mantine-datatable-row-selector-cell",{[de]:o==="cell"&&p},e),style:t,"data-shadow-visible":i||void 0,onClick:d,children:l.jsx(ds,{classNames:p?{input:de}:void 0,onChange:n,...g,...u})})}function gs({record:e,index:t,columns:r,defaultColumnProps:a,defaultColumnRender:o,selectionTrigger:n,selectionVisible:i,selectionChecked:s,onSelectionChange:c,isRecordSelectable:g,selectionCheckboxProps:u,getSelectionCheckboxProps:p,onClick:d,onDoubleClick:h,onContextMenu:m,onCellClick:_,onCellDoubleClick:w,onCellContextMenu:b,expansion:C,customAttributes:R,color:f,backgroundColor:T,className:y,style:M,selectorCellShadowVisible:N,selectionColumnClassName:v,selectionColumnStyle:S,rowFactory:E}){let P=l.jsxs(l.Fragment,{children:[i&&l.jsx(hs,{className:v,style:S,record:e,index:t,trigger:n,withRightShadow:N,checked:s,disabled:!c||(g?!g(e,t):!1),onChange:c,checkboxProps:u,getCheckboxProps:p}),r.map(({hidden:x,hiddenContent:L,...W},q)=>{if(x||L)return null;let{accessor:B,visibleMediaQuery:Q,textAlign:X,noWrap:he,ellipsis:ge,width:pe,render:we,cellsClassName:te,cellsStyle:fe,customCellAttributes:_e}={...a,...W};return l.jsx(ss,{className:typeof te=="function"?te(e,t):te,style:fe?.(e,t),visibleMediaQuery:Q,record:e,index:t,onClick:_?Z=>_({event:Z,record:e,index:t,column:W,columnIndex:q}):void 0,onDoubleClick:w?Z=>w({event:Z,record:e,index:t,column:W,columnIndex:q}):void 0,onContextMenu:b?Z=>b({event:Z,record:e,index:t,column:W,columnIndex:q}):void 0,accessor:B,textAlign:X,noWrap:he,ellipsis:ge,width:pe,render:we,defaultRender:o,customCellAttributes:_e},B)})]}),$=C&&l.jsx(us,{colSpan:r.filter(({hidden:x})=>!x).length+(i?1:0),open:C.isRowExpanded(e),content:C.content({record:e,index:t}),collapseProps:C.collapseProps}),k=ps({record:e,index:t,selectionChecked:s,onClick:d,onDoubleClick:h,onContextMenu:m,expansion:C,customAttributes:R,color:f,backgroundColor:T,className:y,style:M});return E?E({record:e,index:t,rowProps:k,children:P,expandedElement:$}):l.jsxs(l.Fragment,{children:[l.jsx(ns,{...k,children:P}),$]})}function ps({record:e,index:t,selectionChecked:r,onClick:a,onDoubleClick:o,onContextMenu:n,expansion:i,customAttributes:s,color:c,backgroundColor:g,className:u,style:p}){return{className:I("mantine-datatable-row",{[de]:a||o||i?.isExpandable({record:e,index:t})&&i?.expandOnClick},{[Wr]:n},typeof u=="function"?u(e,t):u),"data-selected":r||void 0,onClick:d=>{if(i){let{isExpandable:h,isRowExpanded:m,expandOnClick:_,expandRow:w,collapseRow:b}=i;h({record:e,index:t})&&_&&(m(e)?b(e):w(e))}a?.({event:d,record:e,index:t})},onDoubleClick:o?d=>o({event:d,record:e,index:t}):void 0,onContextMenu:n?d=>n({event:d,record:e,index:t}):void 0,style:[c||g?d=>{let h=c?.(e,t),m=g?.(e,t);return ts({theme:d,color:h,backgroundColor:m})}:void 0,p?.(e,t)],...s?.(e,t)??{}}}const Cr=window.MantineCore.Box,ws=window.MantineCore.ScrollArea;function fs({leftShadowBehind:e,rightShadowBehind:t,onScrollPositionChange:r,children:a,viewportRef:o,scrollAreaProps:n}){return l.jsxs(ws,{...n,viewportRef:o,classNames:{root:"mantine-datatable-scroll-area",scrollbar:"mantine-datatable-scroll-area-scrollbar",thumb:"mantine-datatable-scroll-area-thumb",corner:"mantine-datatable-scroll-area-corner"},onScrollPositionChange:r,children:[a,l.jsx(Cr,{className:I("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-top-shadow")}),l.jsx("div",{className:I("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-left-shadow",{"mantine-datatable-scroll-area-shadow-behind":e})}),l.jsx("div",{className:I("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-right-shadow",{"mantine-datatable-scroll-area-shadow-behind":t})}),l.jsx(Cr,{className:I("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-bottom-shadow")})]})}function _s({withTableBorder:e,borderRadius:t,textSelectionDisabled:r,height:a="100%",minHeight:o,maxHeight:n,shadow:i,verticalAlign:s="center",fetching:c,columns:g,storeColumnsKey:u,groups:p,pinFirstColumn:d,pinLastColumn:h,defaultColumnProps:m,defaultColumnRender:_,idAccessor:w="id",records:b,selectionTrigger:C="checkbox",selectedRecords:R,onSelectedRecordsChange:f,selectionColumnClassName:T,selectionColumnStyle:y,isRecordSelectable:M,selectionCheckboxProps:N,allRecordsSelectionCheckboxProps:v={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:S=(G,ve)=>({"aria-label":`Select record ${ve+1}`}),sortStatus:E,sortIcons:P,onSortStatusChange:$,horizontalSpacing:k,page:x,onPageChange:L,totalRecords:W,recordsPerPage:q,onRecordsPerPageChange:B,recordsPerPageOptions:Q,recordsPerPageLabel:X="Records per page",paginationWithEdges:he,paginationWithControls:ge,paginationActiveTextColor:pe,paginationActiveBackgroundColor:we,paginationSize:te="sm",paginationText:fe=({from:G,to:ve,totalRecords:Xe})=>`${G} - ${ve} / ${Xe}`,paginationWrapBreakpoint:_e="sm",getPaginationControlProps:Z=G=>G==="previous"?{"aria-label":"Previous page"}:G==="next"?{"aria-label":"Next page"}:{},getPaginationItemProps:qe,renderPagination:Ge,loaderBackgroundBlur:Je,customLoader:Dr,loaderSize:Vr,loaderType:Fr,loaderColor:Hr,loadingText:qr="...",emptyState:Gr,noRecordsText:Nt="No records",noRecordsIcon:Jr,highlightOnHover:Qr,striped:Ur,noHeader:Xr,onRowClick:Zr,onRowDoubleClick:Yr,onRowContextMenu:Kr,onCellClick:Ar,onCellDoubleClick:ea,onCellContextMenu:ta,onScroll:ra,onScrollToTop:aa,onScrollToBottom:oa,onScrollToLeft:na,onScrollToRight:la,c:sa,backgroundColor:ia,borderColor:ca,rowBorderColor:ua,stripedColor:da,highlightOnHoverColor:ma,rowColor:ha,rowBackgroundColor:ga,rowExpansion:pa,rowClassName:wa,rowStyle:fa,customRowAttributes:_a,scrollViewportRef:ba,scrollAreaProps:Ca,tableRef:va,bodyRef:xa,m:Ra,my:ka,mx:ya,mt:Ma,mb:Ta,ml:Sa,mr:ja,className:Pa,classNames:be,style:$a,styles:Ce,rowFactory:Ea,tableWrapper:Qe,...Ue}){let G=hn(()=>p?$t(p):g,[g,p]),[ve,Xe]=gn(!1),{refs:U,onScroll:za}=Ln({scrollCallbacks:{onScroll:ra,onScrollToTop:aa,onScrollToBottom:oa,onScrollToLeft:na,onScrollToRight:la},withRowBorders:Ue.withRowBorders}),Ze=jn({key:u,columns:G,headerRef:U.header,scrollViewportRef:U.scrollViewport,onFixedLayoutChange:Xe}),Na=Zt(U.table,va),La=Zt(U.scrollViewport,ba),Ia=Yn({rowExpansion:pa,records:b,idAccessor:w}),Se=_t(!1),Lt=_t(x),Ye=_t(b),Wa=ft(z=>{Se.current=!0,Ye.current=b,L(z)},[L,b]);dn(()=>{Lt.current!==x&&(Se.current=!0,Ye.current=b,Lt.current=x)},[x,b]);let xe=b?.length;mn(()=>{if(!Se.current||c||b===Ye.current)return;let z=U.scrollViewport.current;if(!z)return;let re=requestAnimationFrame(()=>{z.scrollTo({top:0,left:0}),Se.current=!1});return()=>cancelAnimationFrame(re)},[c,b,U.scrollViewport]);let It=b?.map(z=>H(z,w)),le=!!R,Re=R?.map(z=>H(z,w)),Wt=It!==void 0&&Re!==void 0&&Re.length>0,Ke=M?b?.filter(M):b,je=Ke?.map(z=>H(z,w)),Pe=Wt&&je.every(z=>Re.includes(z)),Ba=Wt&&je.some(z=>Re.includes(z)),Oa=ft(()=>{R&&f&&f(Pe?R.filter(z=>!je.includes(H(z,w))):xt([...R,...Ke],z=>H(z,w)))},[Pe,w,f,je,Ke,R]),{lastSelectionChangeIndex:$e,setLastSelectionChangeIndex:Da}=Bn(It),Ae=le&&!d,Va={m:Ra,my:ka,mx:ya,mt:Ma,mb:Ta,ml:Sa,mr:ja},Fa=ft(({children:z})=>Qe?Qe({children:z}):z,[Qe]);return l.jsx(rr,{...Ze,children:l.jsxs(cn,{ref:U.root,...Va,className:I("mantine-datatable",{"mantine-datatable-with-border":e},Pa,be?.root),style:[z=>({...es({theme:z,c:sa,backgroundColor:ia,borderColor:ca,rowBorderColor:ua,stripedColor:da,highlightOnHoverColor:ma}),borderRadius:z.radius[t]||t,boxShadow:z.shadows[i]||i,height:a,minHeight:o,maxHeight:n}),$a,Ce?.root,{position:"relative"}],children:[l.jsx(fs,{viewportRef:La,leftShadowBehind:le||!!d,rightShadowBehind:h,onScrollPositionChange:za,scrollAreaProps:Ca,children:l.jsx(Fa,{children:l.jsxs(un,{ref:Na,horizontalSpacing:k,className:I("mantine-datatable-table",{[el]:r,"mantine-datatable-vertical-align-top":s==="top","mantine-datatable-vertical-align-bottom":s==="bottom","mantine-datatable-pin-last-column":h,"mantine-datatable-selection-column-visible":le,"mantine-datatable-pin-first-column":d,"mantine-datatable-resizable-columns":Ze.hasResizableColumns&&ve},be?.table),style:{...Ce?.table},"data-striped":xe&&Ur||void 0,"data-highlight-on-hover":Qr||void 0,...Ue,children:[Xr?null:l.jsx(rr,{...Ze,children:l.jsx(Ol,{ref:U.header,selectionColumnHeaderRef:U.selectionColumnHeader,className:be?.header,style:Ce?.header,columns:G,defaultColumnProps:m,groups:p,sortStatus:E,sortIcons:P,onSortStatusChange:$,selectionTrigger:C,selectionVisible:le,selectionChecked:Pe,selectionIndeterminate:Ba&&!Pe,onSelectionChange:Oa,selectionCheckboxProps:{...N,...v},selectorCellShadowVisible:Ae,selectionColumnClassName:T,selectionColumnStyle:y,withColumnBorders:Ue.withColumnBorders})}),l.jsx("tbody",{ref:xa,children:xe?b.map((z,re)=>{let et=H(z,w),tt=Re?.includes(et)||!1,Bt;return f&&R&&(Bt=Ha=>{if(Ha.nativeEvent.shiftKey&&$e!==null){let se=b.filter(re>$e?(ae,oe)=>oe>=$e&&oe<=re&&(M?M(ae,oe):!0):(ae,oe)=>oe>=re&&oe<=$e&&(M?M(ae,oe):!0));f(tt?Xn(R,se,ae=>H(ae,w)):xt([...R,...se],ae=>H(ae,w)))}else f(tt?R.filter(se=>H(se,w)!==et):xt([...R,z],se=>H(se,w)));Da(re)}),l.jsx(gs,{record:z,index:re,columns:G,defaultColumnProps:m,defaultColumnRender:_,selectionTrigger:C,selectionVisible:le,selectionChecked:tt,onSelectionChange:Bt,isRecordSelectable:M,selectionCheckboxProps:N,getSelectionCheckboxProps:S,onClick:Zr,onDoubleClick:Yr,onCellClick:Ar,onCellDoubleClick:ea,onContextMenu:Kr,onCellContextMenu:ta,expansion:Ia,color:ha,backgroundColor:ga,className:wa,style:fa,customAttributes:_a,selectorCellShadowVisible:Ae,selectionColumnClassName:T,selectionColumnStyle:y,idAccessor:w,rowFactory:Ea},et)}):l.jsx(fn,{})}),G.some(({footer:z})=>z)&&l.jsx(ol,{ref:U.footer,className:be?.footer,style:Ce?.footer,columns:G,defaultColumnProps:m,selectionVisible:le,selectorCellShadowVisible:Ae})]})})}),!!(x&&xe)&&l.jsx(os,{className:be?.pagination,style:Ce?.pagination,horizontalSpacing:k,fetching:c,page:x,onPageChange:Wa,totalRecords:W,recordsPerPage:q,onRecordsPerPageChange:B,recordsPerPageOptions:Q,recordsPerPageLabel:X,paginationWithEdges:he,paginationWithControls:ge,paginationActiveTextColor:pe,paginationActiveBackgroundColor:we,paginationSize:te,paginationText:fe,paginationWrapBreakpoint:_e,getPaginationControlProps:Z,getPaginationItemProps:qe,noRecordsText:Nt,loadingText:qr,recordsLength:xe,renderPagination:Ge}),l.jsx(Fl,{fetching:c,backgroundBlur:Je,customContent:Dr,size:Vr,type:Fr,color:Hr}),l.jsx(vn,{icon:Jr,text:Nt,active:!c&&!xe,children:Gr})]})})}window.MantineCore.TableTr;window.React.useEffect;window.React.useRef;const bs=window.React.useEffect,Ie=window.React.useState,vr=window.React.useMemo,Cs=window.React.useCallback,Or=window.MantineCore.Badge,xr=window.MantineCore.Center,vs=window.MantineCore.Group,Y=window.MantineCore.Text,xs=window.MantineCore.Skeleton,Rt=window.MantineCore.Stack,kt=window.MantineCore.Title,yt=window.MantineCore.Paper,Rs=window.MantineCore.Anchor,ks={10:{label:"Pending",color:"blue"},20:{label:"Placed",color:"cyan"},25:{label:"On Hold",color:"orange"},30:{label:"Complete",color:"green"},40:{label:"Cancelled",color:"red"},50:{label:"Lost",color:"gray"},60:{label:"Returned",color:"yellow"}},Rr={approved:{label:"Approved",color:"green"},pending:{label:"Pending",color:"yellow"},rejected:{label:"Rejected",color:"red"},none:{label:"Not Requested",color:"gray"}};function ys({status:e}){const t=ks[e]||{label:`Status ${e}`,color:"gray"};return React.createElement(Or,{color:t.color,variant:"filled",size:"xs"},t.label)}function Ms({status:e}){const t=Rr[e]||Rr.none;return React.createElement(Or,{color:t.color,variant:"filled",size:"xs"},t.label)}function Ts(e){if(!e)return"-";try{return new Date(e).toLocaleDateString()}catch{return e}}function Ss({context:e}){const[t,r]=Ie(!0),[a,o]=Ie([]),[n,i]=Ie(null),[s,c]=Ie({columnAccessor:"reference",direction:"asc"}),g=Cs(async()=>{r(!0),i(null);try{const d=await e.api.get("/plugin/approvals/po-list/");o(d.data.results||[])}catch(d){console.error("Failed to fetch PO data:",d),i(d?.message||"Failed to load purchase orders")}finally{r(!1)}},[e.api]);bs(()=>{g()},[g]);const u=vr(()=>[...a].sort((h,m)=>{const _=s.columnAccessor;let w=h[_],b=m[_];return s.columnAccessor==="supplier_detail.name"&&(w=h.supplier_detail?.name||"",b=m.supplier_detail?.name||""),w==null?1:b==null?-1:typeof w=="string"&&typeof b=="string"?s.direction==="asc"?w.localeCompare(b):b.localeCompare(w):typeof w=="number"&&typeof b=="number"?s.direction==="asc"?w-b:b-w:0}),[a,s]),p=vr(()=>[{accessor:"reference",title:"Reference",sortable:!0,render:d=>React.createElement(Rs,{href:`/web/purchasing/purchase-order/${d.pk}/`,size:"sm"},d.reference)},{accessor:"description",title:"Description",sortable:!0,render:d=>React.createElement(Y,{size:"sm",lineClamp:1},d.description||"-")},{accessor:"supplier_detail.name",title:"Supplier",sortable:!0,render:d=>d.supplier_detail?React.createElement(vs,{gap:"xs",wrap:"nowrap"},React.createElement(Y,{size:"sm"},d.supplier_detail.name)):React.createElement(Y,{size:"sm",c:"dimmed"},"-")},{accessor:"supplier_reference",title:"Supplier Ref",sortable:!0,render:d=>React.createElement(Y,{size:"sm"},d.supplier_reference||"-")},{accessor:"line_items",title:"Line Items",sortable:!0,render:d=>React.createElement(Y,{size:"sm"},d.completed_lines,"/",d.line_items)},{accessor:"status",title:"Status",sortable:!0,render:d=>React.createElement(xr,null,React.createElement(ys,{status:d.status_custom_key||d.status}))},{accessor:"approval_status",title:"Approval Status",sortable:!0,render:d=>React.createElement(xr,null,React.createElement(Ms,{status:d.approval_status}))},{accessor:"target_date",title:"Target Date",sortable:!0,render:d=>React.createElement(Y,{size:"sm"},Ts(d.target_date))},{accessor:"total_price",title:"Total Price",sortable:!0,render:d=>React.createElement(Y,{size:"sm"},d.total_price?`${d.total_price} ${d.order_currency||""}`:"-")},{accessor:"responsible_detail.name",title:"Responsible",sortable:!1,render:d=>React.createElement(Y,{size:"sm"},d.responsible_detail?.name||"-")}],[]);return n?React.createElement(yt,{p:"md"},React.createElement(Rt,null,React.createElement(kt,{order:3},"Purchase Orders with Approval Status"),React.createElement(Y,{c:"red"},"Error: ",n))):t?React.createElement(yt,{p:"md"},React.createElement(Rt,null,React.createElement(kt,{order:3},"Purchase Orders with Approval Status"),React.createElement(xs,{height:400}))):React.createElement(yt,{p:"md"},React.createElement(Rt,null,React.createElement(kt,{order:3},"Purchase Orders with Approval Status"),React.createElement(_s,{records:u,columns:p,withTableBorder:!0,borderRadius:"sm",striped:!0,highlightOnHover:!0,minHeight:200,idAccessor:"pk",sortStatus:s,onSortStatusChange:c,noRecordsText:"No purchase orders found"})))}function js(e){return Oe(e),React.createElement(Ro,{context:e})}function Ps(e){return Oe(e),React.createElement($o,{context:e})}function $s(e){return Oe(e),React.createElement(Bo,{context:e})}function Es(e){return Oe(e),React.createElement(Ss,{context:e})}function zs(e){return e.model!=="purchaseorder"}export{zs as isPanelHidden,$s as renderAnyApproverWidget,Ps as renderDashboardWidget,Es as renderPOApprovalsPage,js as renderPanel};
//# sourceMappingURL=approvals_panel.js.map
